var Smoother=function(t,e){function i(t,e){switch(e){case"linear":return t;case"quadratic":return Math.pow(t,2);case"cubic":return Math.pow(t,3);default:throw"Unsupported weight distribution '"+e+"'"}}function n(t){var e=t.length%2==1;if(e)return t[Math.ceil(t.length/2)-1];var i=t.length/2-1,n=t.length/2;return(t[i]+t[n])/2}function u(t){var e=t.slice();e.sort(function(t,e){return t-e});var i=n(e);return console.log("Values: "+e),console.log("Median: "+i),e}function s(){if(0==a.values.length)return a.value;if(!a.isEnabled)return a.values[a.values.length-1];a.values.length>2&&(a.values=u(a.values));for(var t=a.values.count,e=0,n=0,s=0;t>s;s++){var l=i((s+1)/t,a.distribution),r=a.values[s];e+=r*l,n+=l}return e/n}var a=this;this.maxValueCount=t,this.distribution=e||"linear",this.isEnabled=!0,this.values=[],this.value=null,this.push=function(t){this.values.push(t),this.values.length>this.maxValueCount&&this.values.shift(),this.value=s()},this.enable=function(){this.isEnabled=!0,this.value=s()},this.disable=function(){this.isEnabled=!1,this.value=s()}};module.exports=Smoother;