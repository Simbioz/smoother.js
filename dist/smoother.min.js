var Smoother=function(t,i){function e(t,i){switch(i){case"linear":return t;case"quadratic":return Math.pow(t,2);case"cubic":return Math.pow(t,3);default:throw"Unsupported weight distribution '"+i+"'"}}function s(){var t=u.values.length;if(0==t)return u.value;if(!u.isEnabled)return u.values[u.values.length-1];for(var i=0,s=0,a=0;t>a;a++){var n=e((a+1)/t,u.distribution),h=u.values[a];i+=h*n,s+=n}return i/s}var u=this;this.maxValueCount=t,this.distribution=i||"linear",this.isEnabled=!0,this.values=[],this.value=null,this.push=function(t){this.values.push(t),this.values.length>this.maxValueCount&&this.values.shift(),this.value=s()},this.enable=function(){this.isEnabled=!0,this.value=s()},this.disable=function(){this.isEnabled=!1,this.value=s()}};module.exports=Smoother;